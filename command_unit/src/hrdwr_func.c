/* Sep 16, 2015 */

/*!  \file 	hrdwr_func.c
 *   \brief  
 *   \details  
 *
 *
 *
 */

/*includes==========================================================================================================*/
#include "hrdwr_func.h"

/*defines===========================================================================================================*/


/*types=============================================================================================================*/


/*prototypes========================================================================================================*/


/*variables=========================================================================================================*/
static uint8_t      id_now;
static uint8_t      code_now;

static uint16_t     daccode[8];

static uint8_t      dds_gain[2] ;
static uint32_t     dds_freq[2];


static uint8_t      mech_att_gain = 65;
static att_flags_t  flag_att = {1,0,1,0};

static uint8_t      yig = 0;





/*code==============================================================================================================*/

/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void set_mechatt_gain( uint8_t gain )
    {
        mech_att_gain = gain;
    }

/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
uint8_t get_mechatt_gain( void )
    {
        return mech_att_gain;
    }

/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void set_mechatt_flags( const struct  _ATT_FLAGS *flags )
    {
    flag_att.bitflags = *flags;
    }

/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
uint8_t get_mechatt_flags( void )
    {
        return flag_att.byteflags;
    }


/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void set_decoder_code( uint8_t  id, uint8_t code )
    {
        id_now = id;
        code_now = code;
    }

/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void set_dac_code( uint8_t  id, uint16_t code )
    {
        daccode[id] = code;
    }


/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void set_dds_code( uint8_t  id, uint32_t freq, uint8_t gain )
    {
        dds_gain[id] = gain;
        dds_freq[id] = freq;
    }


/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
void        set_yig_sts( uint8_t on )
    {
        yig = on;
    }    
    
/*=============================================================================================================*/
/*!  \brief

     \return 
     \retval 
     \sa 
*/
/*=============================================================================================================*/
uint8_t     get_yig_sts( void )
    {
        return yig;
    }


